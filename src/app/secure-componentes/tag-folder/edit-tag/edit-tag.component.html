
<div>
    <ul class="nav nav-tabs padding-nav-tab color-nav-tab">
        <li class="nav-item"><a class="nav-link nav-a" 
                                [ngClass]="!activeTabs?'disabled':(navActive == 1?'active':'')"
                                name="1" (click)="onTabClick($event)">Datos</a></li>
        <li class="nav-item"><a class="nav-link nav-a" 
                                [ngClass]="!activeTabs?'disabled':(navActive == 2?'active':'')"
                                name="2" (click)="onTabClick($event)">Contacto</a></li>
        <li class="nav-item"><a class="nav-link nav-a" 
                                [ngClass]="!activeTabs?'disabled':(navActive == 3?'active':'')"
                                name="3" (click)="onTabClick($event)">Información importante</a></li>
    </ul>
    <div class="d-flex justify-content-center p-4" *ngIf="load_form">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">...loading</span>
        </div>
    </div>
    <div *ngIf="show_form">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="padding-content-form" *ngIf="navActive == 1">
                <div class="row">
                    <div class="col-md-6 img-box">
                        <label for="inputimg" class="control-label img-align" title="Cargar una nueva imagen">
                            <img [src]="foto_formulario"
                                  class="img-rounded" 
                                  alt="Image" 
                            />
                        </label>
                        <input type="file" 
                               id="inputimg" 
                               class="form-control" 
                               formControlName="foto" 
                               style="display: none;"
                               (change)="capturaFile($event)" 
                        />
                        <div style="height: 18px; font-size: 0.9rem; margin-top: 0.5rem; margin-bottom: 1rem;">
                            <div class="invalid-feedback d-flex justify-content-start mt-0 ms-1" *ngIf="true">
                              <span *ngIf="true">Este campo es requerido.</span>
                              <span *ngIf="">La contraseña debe tener más de 4 caracteres.</span>
                              <span *ngIf="">La contraseña debe tener menos de 20 caracteres.</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <app-persona-form [form]="form" *ngIf="tipo_form == 'persona'"></app-persona-form>
                        <app-mascota-form [form]="form" *ngIf="tipo_form == 'mascota'"></app-mascota-form>
                        <app-vehiculo-form [form]="form" *ngIf="tipo_form == 'vehiculo'"></app-vehiculo-form>
                    </div>
                </div>
            </div>
            <div class="padding-content-form" *ngIf="navActive == 2">
                <div class="input-group row m-0">
                    <div class="col p-0">
                        <label class="form-label" for="nombreresp">Nombre del contacto:</label>
                        <input class="form-control" type="text" id="nombreresp" formControlName="nombreresp">
                        <div style="height: 18px; font-size: 0.9rem; ">
                            <div class="invalid-feedback d-flex justify-content-start mt-0 ms-1" *ngIf="true">
                              <span *ngIf="true">Este campo es requerido.</span>
                              <span *ngIf="">La contraseña debe tener más de 4 caracteres.</span>
                              <span *ngIf="">La contraseña debe tener menos de 20 caracteres.</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="input-group row m-0">
                    <div class="col-6 ps-0">
                        <label class="form-label" for="telefono">Teléfono:</label>
                        <input class="form-control" type="number" id="telefono" formControlName="telresp">
                        <div style="height: 18px; font-size: 0.9rem; ">
                            <div class="invalid-feedback d-flex justify-content-start mt-0 ms-1" *ngIf="true">
                              <span *ngIf="true">Este campo es requerido.</span>
                              <span *ngIf="">La contraseña debe tener más de 4 caracteres.</span>
                              <span *ngIf="">La contraseña debe tener menos de 20 caracteres.</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 pe-0">
                        <label class="form-label" for="wspresp">Whatsapp:</label>
                        <input class="form-control" type="number" id="wspresp" formControlName="wspresp">
                        <div style="height: 18px; font-size: 0.9rem; ">
                            <div class="invalid-feedback d-flex justify-content-start mt-0 ms-1" *ngIf="true">
                              <span *ngIf="true">Este campo es requerido.</span>
                              <span *ngIf="">La contraseña debe tener más de 4 caracteres.</span>
                              <span *ngIf="">La contraseña debe tener menos de 20 caracteres.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="padding-content-form" *ngIf="navActive == 3">
                <div class="form-group">
                    <label for="textarea" class="control-label mb-2">Ingresá aquí información importante sobre la persona, mascota o vehículo del Tag.</label>
                    <div>
                        <textarea name="" id="textarea" class="form-control" rows="3" required="required" placeholder="Escribe aquí..." formControlName="observaciones"></textarea>
                        <div style="height: 18px; font-size: 0.9rem; ">
                            <div class="invalid-feedback d-flex justify-content-start mt-0 ms-1" *ngIf="true">
                              <span *ngIf="true">Este campo es requerido.</span>
                              <span *ngIf="">La contraseña debe tener más de 4 caracteres.</span>
                              <span *ngIf="">La contraseña debe tener menos de 20 caracteres.</span>
                            </div>
                        </div>
                    </div>
                </div>  
            </div>
            <div class="d-flex justify-content-end padding-content-form pt-0">
                <button class="btn btn-danger me-3">Cancelar</button>
                <button class="btn btn-primary">Crear</button>
            </div>
        </form>
    </div>
        
    <div class="p-3" *ngIf="error_form">
        <div class="alert alert-danger">
            <p class="d-block text-center mb-0">Ha ocurrido un error durante la carga. Por favor actualice la página.</p>
        </div>
    </div>
</div>

